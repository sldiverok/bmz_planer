<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ë–ú–ó ‚Äî –æ—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    body {background:#1c1c1c;color:#f5f5f5;font-family:"Segoe UI",sans-serif;margin:0;padding:20px;}
    h1 {text-align:center;color:#00c0c4;margin-bottom:20px;}
    .filter-bar {display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;margin-bottom:15px;}
    input,select {padding:8px 12px;border-radius:6px;border:none;background:#2a2a2a;color:#fff;outline:none;}
    input::placeholder {color:#aaa;}
    table {width:100%;border-collapse:collapse;border-radius:10px;overflow:hidden;background:#2b2b2b;}
    th,td {padding:10px;border-bottom:1px solid #3a3a3a;text-align:left;}
    th {background:#333;}
    tr:hover {background:#3d3d3d;}
    a {color:#00c0c4;text-decoration:none;} a:hover{text-decoration:underline;}
    .logout {position:fixed;top:15px;right:20px;background:#00c0c4;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:bold;}
    .logout:hover{background:#00969a;}
    tr.empty-row{background:#262626;color:#888;font-style:italic;}
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
  <button class="logout" onclick="logout()">–í–∏–π—Ç–∏</button>
  <h1>üìã –û—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥ –ë–ú–ó</h1>

  <div class="filter-bar">
    <input type="text" id="searchBox" placeholder="üîç –ü–æ—à—É–∫ –∑–∞ –ü–Ü–ë, –ø–æ—Å–∞–¥–æ—é —á–∏ –∑–≤–∞–Ω–Ω—è–º...">
  </div>

  <table id="bmzTable">
    <thead>
      <tr><th>–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª</th><th>–ü–æ—Å–∞–¥–∞</th><th>–ü–Ü–ë</th><th>–®–ü–ö</th><th>–í—ñ–π—Å—å–∫–æ–≤–µ –∑–≤–∞–Ω–Ω—è</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const tableBody=document.querySelector("#bmzTable tbody");
    const searchBox=document.getElementById("searchBox");
    const userUnit=sessionStorage.getItem("bmz_unit");

    const structuralPositions=[ "–ë–∞—Ç–∞–ª—å–π–æ–Ω –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è","–†–æ—Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–æ—î–ø—Ä–∏–ø–∞—Å–∞–º–∏","–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–∏–π –≤–∑–≤–æ–¥ –ø—ñ–¥–≤–æ–∑—É –±–æ—î–ø—Ä–∏–ø–∞—Å—ñ–≤","1 –ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è","2 –ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è","–¢–∞–∫–µ–ª–∞–∂–Ω–∏–π –≤–∑–≤–æ–¥","–¢–∞–∫–µ–ª–∞–∂–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è","–ü–æ–ª—å–æ–≤–∏–π –∞—Ä—Ç–∏–ª–µ—Ä—ñ–π—Å—å–∫–∏–π —Å–∫–ª–∞–¥","–ì—Ä—É–ø–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–∏—Ö —Å–Ω–∞—Ä—è–¥—ñ–≤","–ì—Ä—É–ø–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –±–æ—î–ø—Ä–∏–ø–∞—Å—ñ–≤ –¥–æ –Ω–∞–∑–µ–º–Ω–æ—ó –∞—Ä—Ç–∏–ª–µ—Ä—ñ—ó","–ì—Ä—É–ø–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ–Ω–∂–µ–Ω–µ—Ä–Ω–∏—Ö –±–æ—î–ø—Ä–∏–ø–∞—Å—ñ–≤","–ì—Ä—É–ø–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–æ—ó –∑–±—Ä–æ—ó","–ì—Ä—É–ø–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–∞—Å–æ–±—ñ–≤ –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏—Ö –∞–≤—ñ–∞—Ü—ñ–π–Ω–∏—Ö –∫–æ–º–ø–ª–µ–∫—Å—ñ–≤","–†–æ—Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ–º, —Ä–µ—á–æ–≤–∏–º —Ç–∞ –≤—ñ–π—Å—å–∫–æ–≤–æ-—Ç–µ—Ö–Ω—ñ—á–Ω–∏–º –º–∞–π–Ω–æ–º","–í–∑–≤–æ–¥ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è","–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ø—ñ–¥–≤–æ–∑—É –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∞, —Ä–µ—á–æ–≤–æ–≥–æ —ñ –≤—ñ–π—Å—å–∫–æ–≤–æ-—Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ –º–∞–π–Ω–∞","–°–∫–ª–∞–¥ –≤—ñ–π—Å—å–∫–æ–≤–æ-—Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ –º–∞–π–Ω–∞","–ü—Ä–æ–¥–æ–≤–æ–ª—å—á–∏–π —Å–∫–ª–∞–¥","–†–µ—á–æ–≤–∏–π —Å–∫–ª–∞–¥","–ì–æ—Å–ø–æ–¥–∞—Ä—á–∏–π –≤–∑–≤–æ–¥","–á–¥–∞–ª—å–Ω—è","–†–µ–º–æ–Ω—Ç–Ω–∞ –º–∞–π—Å—Ç–µ—Ä–Ω—è —Ä–µ—á–æ–≤–æ–≥–æ –º–∞–π–Ω–∞","–ü–æ–ª—å–æ–≤–∞ –ª–∞–∑–Ω—è","–°–∫–ª–∞–¥–∏","–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–∏–π –≤–∑–≤–æ–¥ –ø—ñ–¥–≤–æ–∑—É –ø–∞–ª—å–Ω–æ–≥–æ —Ç–∞ –º–∞—Å—Ç–∏–ª—å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤","1 –ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ø—ñ–¥–≤–æ–∑—É –ø–∞–ª—å–Ω–æ–≥–æ —Ç–∞ –º–∞—Å—Ç–∏–ª—å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤","2 –ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ø—ñ–¥–≤–æ–∑—É –ø–∞–ª—å–Ω–æ–≥–æ —Ç–∞ –º–∞—Å—Ç–∏–ª—å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤","–°–∫–ª–∞–¥ –ø–∞–ª—å–Ω–æ–≥–æ —Ç–∞ –º–∞—Å—Ç–∏–ª—å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤","–í–∑–≤–æ–¥ –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–æ-–µ–≤–∞–∫—É–∞—Ü—ñ–π–Ω–∏—Ö –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏—Ö –Ω–∞–∑–µ–º–Ω–∏—Ö —Å–∏—Å—Ç–µ–º","1 –í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–∏—Ö –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏—Ö –Ω–∞–∑–µ–º–Ω–∏—Ö –∫–æ–º–ø–ª–µ–∫—Å—ñ–≤","2 –í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–∏—Ö –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏—Ö –Ω–∞–∑–µ–º–Ω–∏—Ö –∫–æ–º–ø–ª–µ–∫—Å—ñ–≤","–í—ñ–¥—ñ–ª–µ–Ω–Ω—è –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏—Ö –∞–≤—ñ–∞—Ü—ñ–π–Ω–∏—Ö –∫–æ–º–ø–ª–µ–∫—Å—ñ–≤","–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –∑–≤‚Äô—è–∑–∫—É","–ì—Ä—É–ø–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∑–∞—Ö–æ–¥—ñ–≤ —Ü–∏–≤—ñ–ª—å–Ω–æ-–≤—ñ–π—Å—å–∫–æ–≤–æ–≥–æ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏—Ü—Ç–≤–∞","–ì—Ä—É–ø–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∑–∞—Ö–æ–¥—ñ–≤ —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥—É","–í–∑–≤–æ–¥ –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è","–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è","–ì–æ—Å–ø–æ–¥–∞—Ä—á–µ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è","–ü–æ–ª—å–æ–≤–∞ –ª–∞–∑–Ω—è","–ü–æ–∂–µ–∂–Ω–∞ –æ–±—Å–ª—É–≥–∞","–ú–µ–¥–∏—á–Ω–∏–π –ø—É–Ω–∫—Ç"];

    if(!userUnit){alert("‚ùå –î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ!");window.location.href="admin.html";}

    let rowsData=[];
    Papa.parse("bmz.csv",{download:true,header:true,delimiter:";",complete:function(res){
      rowsData=res.data;
      renderTable(rowsData);
    }});

    function renderTable(data){
      tableBody.innerHTML="";
      data.forEach(r=>{
        if(r["–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–ö–æ–¥"]===userUnit){
          const tr=document.createElement("tr");
          if(!r["–ü–Ü–ë"])tr.classList.add("empty-row");
          const page=r["–ü–Ü–ë_–ª–∞—Ç"]?`soldiers/${r["–ü–Ü–ë_–ª–∞—Ç"]}.html`:"#";
          tr.innerHTML=`
            <td><b>${r["–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª–ö–æ–¥"]||""}</b> ${r["–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª"]||""}</td>
            <td>${r["–ü–æ—Å–∞–¥–∞"]||""}</td>
            <td>${
              r["–ü–Ü–ë"]
              ? `<a href="${page}" target="_blank">${r["–ü–Ü–ë"]}</a>`
              : structuralPositions.includes(r["–ü–æ—Å–∞–¥–∞"])
                ? `<b style="color:#00c0c4;">${r["–ü–æ—Å–∞–¥–∞"]}</b>`
                : "<i>–ù–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ</i>"
            }</td>
            <td>${r["–®–ü–ö"]||""}</td>
            <td>${r["–í—ñ–π—Å—å–∫–æ–≤–µ –∑–≤–∞–Ω–Ω—è"]||""}</td>`;
          tableBody.appendChild(tr);
        }
      });
    }

    searchBox.addEventListener("input",()=>{const q=searchBox.value.toLowerCase();renderTable(rowsData.filter(r=>Object.values(r).join(" ").toLowerCase().includes(q)));});
    function logout(){sessionStorage.removeItem("bmz_unit");window.location.href="admin.html";}
  </script>
</body>
</html>
